<div align="center">

  <h1>记录</h1>
  <sup>jìlù, <em>to memorize</em></sup>
  <br />
  <br />

  <p>
    <strong><code>jilu</code> generates a change log based on the state of your Git repository.</strong>
  </p>

  <br />

  <p><sub>
    <em>convert <a href="https://www.conventionalcommits.org">conventional commits</a> into an auto-generated change log</em>
    <br />––––––––––<br />
    <em>use Git tags to annotate your releases with titles, release notes and more</em>
    <br />–––––<br />
    <em>tweak your change log to suit the needs of your community</em>
    <br />––––––––––<br />
    <em>single binary <code>jilu</code>, ready to be integrated into your CI workflow</em>
  </sub></p>

  <br />
  <br />

</div>

The way you structure and document your projects is personal, and transforms
over time into what works best for you and your community. **Jilu** tries to
deliver a nice and simple way to expose your project changes to the outside
world. It is a flexible way, but it can never replace all possible workflows,
and it doesn't pretend to.

Using **Jilu** requires using [conventional commits], and while some like the
rigor of structured commits, others don't, both have valid reasons. If you have
an existing workflow that works for you, or an existing project without
conventional commits, there won't be much to gain for you here.

Use whatever suits your needs, and focus on shipping and making your project
users happy.

### Quick Start

1. Check out the [change log of this project].

2. Install `jilu`:

   - ~~Using [release binaries]~~ _(soon)_:

     ```shell
     curl …
     ```

   - ~~Using [Homebrew]~~ _(soon)_:

     ```shell
     brew install jilu
     ```

   - Using [Cargo]:

     ```shell
     cargo install jilu --git https://github.com/rustic-games/jilu
     ```

3. Visit any local repository:

   ```shell
   cd /path/to/repository
   ```

4. Print change log:

   ```shell
   jilu
   ```

5. ~~Get more details~~ _(soon)_:

   ```shell
   jilu --help
   ```

6. Integrate into your CI workflow.

[change log of this project]: ./CHANGELOG.md
[cargo]: https://www.rust-lang.org/tools/install
[homebrew]: https://brew.sh
[release binaries]: https://github.com/rustic-games/jilu/releases

### About

As a fan of [Conventional Commits], and an avid reader of open-source change
logs, It always saddens me when a change log is missing, or is lacking important
contextual details. Things like release dates, unreleased changes, or breaking
changes are an important part of the public documentation of a project. On top
of that, as an open-source contributor, I can't ignore the warm fuzzy feeling I
get when people thank me for my contributions, but keeping track of all those
contributions cuts into the time you have available for a project _(still,
automated thank-you's aren't as personal as an individual one, remember that)_.

Conventional commits and auto-generated change logs are quite popular in the
JavaScript community, and there are [tons][] [of][] [tools][] to help you adhere
to the standards, but all the ones I tried came with downsides, the biggest ones
being the lack of a single binary, lack of easy configuration, riddled with
Emoji _(I don't mind an Emoji or two, mind you ✌️)_, or trying to be a complete
release management tool, which inevitably means heavy focus on the JavaScript
ecosystem _(and not adhering to the Unix philosophy of small single-purpose
tools)_.

**Jilu** is the tool I envisioned I would like to use to generate my project
change logs, and I've open-sourced it so that it may help you in your
open-source endeavors as well. Have fun using it, and feel free to [propose new
features], or [provide bug fixes]!

[tons]: https://github.com/conventional-changelog/commitlint
[of]: https://commitizen.github.io/cz-cli/
[tools]: https://github.com/conventional-changelog/standard-version

[propose new features]: https://github.com/rustic-games/jilu/issues/new?title=[feature%20request]
[provide bug fixes]: https://github.com/rustic-games/jilu/issues/new

### Usage

#### Structured

The library uses existing conventions and specifications to structure the change
log. Specifically, you are expected to use [SemVer] for tagging releases,
[Conventional Commits] for commit messages, and the change log itself adheres to
the [Keep a Changelog] conventions.

#### Automated

Release notes are generated by parsing the Git history. Clone any repository
locally, and run `jilu` to print the generated release notes.

Commits are parsed using the [Conventional Commits] format.

Git tags are used to determine which commits should be part of what release. The
messages of annotated tags are used to add hand-written release notes to the
release. Similar to conventional commits, the first line of the tag annotation
is used as the release title, the rest as the release notes.

**_work in progress_** ~~Any commits _after_ the latest tagged release are added
to the "unreleased" section. You can optionally run
`jilu --release MAJOR.MINOR.PATCH` if you want to generate a change log with the
unreleased commits grouped in a new release. When doing this, your `$EDITOR`
will open to provide release notes. This will also create a Git tag with the
same details (unless you supply `--no-tag`).~~

~~The release feature is added to make sure the updated change log is part of
that new release. Otherwise, opening the change log in the repository state at
the point of a release tag would still show the new changes in the _unreleased_
section.~~

#### Readable

In the spirit of the [Keep a Changelog] guidelines, `jilu` produces a
human-readable change log by including the following information:

- [x] markdown formatting for improved readability
- [x] custom change log introduction paragraph
- [x] table of contents
- [x] unreleased changes at the top
- [x] release versions and dates
- [x] release changes grouped by type
- [x] manually written release notes
- [x] short git refs linking specific commits
- [x] optional GitHub linking to release/tag/compare views

#### Forgiving

Commit messages that need to be excluded can be, based on a set of rules:

- [x] non-conventional commit messages are ignored
- [x] conventional commit types (such as `chore`) can be excluded
- [ ] **_work in progress_** ~~a list of blacklisted commits can be provided~~
- [ ] **_work in progress_** ~~a root commit can be provided to ignore older
      commits~~

#### Configurable

**_work in progress_**

~~The output of the change log can be tweaked with custom styling and
translations.~~

~~You can:~~

- [ ] ~~provide a change log title~~
- [ ] ~~provide a change log description~~
- [ ] ~~show a table of contents to jump to specific releases~~
- [ ] ~~show unreleased changes~~
- [ ] ~~show release contributors~~
- [ ] ~~rename commit type headers~~
- [ ] ~~ignore specific commit types~~
- [ ] ~~show commit bodies below the title~~

~~All of these come with sane defaults.~~

~~The configuration can be encoded inside a change log file, using a HTML
comment at the bottom of the document. This prevents the need for another
top-level configuration file, but will also prevent the configuration from
rendering in Markdown formatting mode:~~

```markdown
<!-- Jilu(
    title: "Change Log",
    description: "Hello World!",
    toc: true,
    root: "4fg0cfa",
    unreleased: true,
    contributors: true,
    headers: {
        "feat": "Features",
        "fix": "Bug Fixes",
    },
    ignore: Ignore(
        types: ["refactor", "chore"],
        commits: ["vd3g0ka"],
    ),
    commit: {
        body: true,
    },
) -->
```

~~By default, `jilu` will look for a top-level `CHANGELOG.md` file to find its
configuration, this can be changed using `jilu --config /path/to/config`.~~

~~Alternatively, CLI flags can be used to achieve the same result. Most flags
are similar to the configuration names, using `--title`, `--description`, etc.
The exceptions are:~~

- `--headers TYPE=NAME,...`
- `--ignore-types TYPE,...`
- `--ignore-commits COMMIT,...`
- `--commit-body true`

[conventional commits]: https://www.conventionalcommits.org/en/v1.0.0-beta.4/
[semver]: https://semver.org/
[keep a changelog]: https://keepachangelog.com/en/1.0.0/
